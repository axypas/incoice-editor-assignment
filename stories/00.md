# US0 — App can talk to the API (bootstrap)

## Story
- **As** a developer
- **I want** to confirm the app is correctly authenticated and the OpenAPI client works
- **So that** I can safely build features on top

## Acceptance Criteria
- `ApiProvider` includes the token; `useApi()` resolves and can call `getInvoices` without throwing (happy path).
- If the token is missing or invalid, show a global error banner explaining auth failed (avoid leaking the token).

## Edge Cases
- `401 Unauthorized` → show a persistent banner with a link or hint to set the token.
- Network timeout → retry call to action.

## Test Notes
- Unit: mock `useApi` to return a successful list once, and a `401` once.

## Principle Notes
- Empathize Relentlessly: auth failures show clear, non-leaky copy with guidance.
- Build Excitement: brief success hint/banner confirms we’re ready to build.

# US1 — Pre-commit hooks guard quality gates

## Story
- **As** a developer
- **I want** a pre-commit hook to run formatting, linting, and targeted tests
- **So that** I catch regressions before code reaches CI

## Acceptance Criteria
- `husky` (or equivalent) installs via `yarn` and runs on `git commit`.
- The hook runs Prettier formatting (`yarn format:check`), ESLint linting (`yarn lint`), and Jest tests (`yarn test --bail --findRelatedTests`) in sequence.
- Hook failure clearly blocks the commit with actionable output.
- Hook respects `CI=true` environment by skipping watch mode and extra prompts.

## Edge Cases
- If commands are unavailable locally, the hook prints guidance and exits non-zero.
- Developers can opt-out intentionally via documented `SKIP_PRECOMMIT=1`, but this variable must default to off.

## Test Notes
- Manual: simulate failing lint/test to ensure the commit is prevented and output is readable.
- Automated: unit test a small utility (if created) that builds the hook command string.
