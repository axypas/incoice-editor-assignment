# US4 — Finalize an invoice (row action)

## Story
- **As** a user
- **I want** to finalize a draft invoice
- **So that** it becomes immutable for editing

## Acceptance Criteria
- “Finalize” on non-finalized rows opens a confirm dialog (“Finalizing will lock this invoice.”).
- On confirm: call the finalize endpoint; while pending, the button is disabled or spinning; on success, row state updates to finalized and “Finalize” disappears.
- After finalization, UI prevents further edits to the invoice (no edit affordances).
- Semantics: once finalized, the invoice cannot be edited (Company API expectation).

## Edge Cases
- Invoice already finalized (stale UI) → treat as idempotent: show a neutral toast and refresh.
- `409`/`400` from API → show error toast; keep row unchanged.

## Test Notes
- RTL: finalize success updates row; error path shows toast and leaves UI intact.

## Principle Notes
- Empathize Relentlessly: copy explains permanence; idempotent handling with neutral toast on already-finalized.
- Build Excitement: instant visual transition to finalized state increases user confidence.
