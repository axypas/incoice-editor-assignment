# US1 — List invoices (enhanced table view)

## Story
- **As** a user
- **I want** to see my invoices in a well-formatted table
- **So that** I can quickly assess financial status and take actions

## Acceptance Criteria
### Table Columns
- **Invoice #**: Display with consistent format (e.g., INV-2024-001)
- **Customer**: Name with fallback to ID if name unavailable
- **Date**: Formatted per locale (e.g., "Jan 15, 2024" for US)
- **Due Date**: With visual indicator if overdue (red text/icon)
- **Amount**:
  - Formatted with `Intl.NumberFormat` including currency symbol
  - Right-aligned for easy scanning
  - Always 2 decimal places (e.g., "$1,234.50")
- **Status**:
  - "Draft" (gray badge) or "Finalized" (green badge)
  - Payment status if available: "Paid", "Partial", "Unpaid"
- **Actions**:
  - "Finalize" (draft only) with confirmation
  - "Delete" with destructive confirmation
  - "View/Edit" (draft only) or "View" (finalized)

### Display Requirements
- **Loading**: Skeleton rows matching table structure (not generic spinner)
- **Empty state**:
  - Clear illustration/icon
  - "No invoices yet" heading
  - "Create your first invoice" CTA button
- **Error state**:
  - Non-blocking error banner
  - "Unable to load invoices. Please try again."
  - Retry button + technical details in console
- **Sorting**: Click column headers to sort (visual arrow indicators)
- **Row hover**: Subtle background change for better scanning

## Edge Cases
- **Large amounts**: Format with thousand separators (1,234,567.89)
- **Missing data**: Show "—" consistently for null/undefined
- **Very long customer names**: Truncate with ellipsis, full name on hover
- **Mixed currencies**: Show currency code if multiple currencies present
- **Pagination**: If >50 rows, implement pagination or virtualization

## Test Notes
- RTL:
  - Proper number formatting for different locales
  - Status badge rendering based on finalized flag
  - Action buttons conditional on invoice state
  - Empty vs error vs loaded states
- E2E: Sort by amount, verify order is numerically correct (not alphabetical)

## Principle Notes
- Empathize Relentlessly:
  - Financial data must be scannable and accurate
  - Overdue invoices need visual prominence
  - Consistent formatting reduces cognitive load
- Challenge the Basics: Start with essential columns; add more based on usage
- Build Excitement: Smooth transitions and clear financial picture build trust
